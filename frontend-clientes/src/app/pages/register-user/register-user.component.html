<body class="bg-eco-light flex items-center justify-center" style="height: calc(100vh - 48px);">
  <div class="max-w-5xl w-full bg-white rounded-xl shadow-2xl overflow-hidden">
    <!-- Header -->
    <div class="bg-eco-green text-white p-8 text-center">
      <div class="flex justify-center mb-4">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 animate-float" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
      </div>
      <h1 class="text-3xl font-bold">Crea tu cuenta</h1>
      <p class="mt-2 opacity-90">Únete a nuestra comunidad ecofriendly</p>
    </div>

    <!-- Formulario -->
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="p-8 grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Nombre completo -->
      <div class="col-span-1">
        <label for="nombre" class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5.121 17.804A9.996 9.996 0 0012 20c2.21 0 4.247-.716 5.879-1.918M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
          </div>
          <input id="nombre" formControlName="nombre" type="text" required
            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition"
            placeholder="Tu nombre completo" />
          @if (f['nombre'].touched && f['nombre'].errors) {
          <div class="text-red-500 text-xs mt-1">
            @if (f['nombre'].errors['required']) {
            <div>El nombre es requerido</div>
            }
            @if (f['nombre'].errors['minlength']) {
            <div>El nombre debe tener al menos 3 caracteres</div>
            }
          </div>
          }
        </div>
      </div>

      <!-- Correo electrónico -->
      <div class="col-span-1">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo electrónico</label>
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </div>
          <input id="email" formControlName="email" type="email" required
            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition"
            placeholder="tucorreo@ejemplo.com" />
          @if (f['email'].touched && f['email'].errors) {
          <div class="text-red-500 text-xs mt-1">
            @if (f['email'].errors['required']) {
            <div>El email es requerido</div>
            }
            @if (f['email'].errors['email']) {
            <div>Ingresa un email válido</div>
            }
          </div>
          }
        </div>
      </div>

      <!-- Teléfono -->
      <div class="col-span-1">
        <label for="telefono" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 5a2 2 0 012-2h1l2 7H5l2 7h10l2-7h-3l2-7h1a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5z" />
            </svg>
          </div>
          <input id="telefono" formControlName="telefono" type="tel" required
            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition"
            placeholder="+34 600 000 000" />
          @if (f['telefono'].touched && f['telefono'].errors) {
          <div class="text-red-500 text-xs mt-1">
            @if (f['telefono'].errors['required']) {
            <div>El teléfono es requerido</div>
            }
            @if (f['telefono'].errors['pattern']) {
            <div>Ingresa un teléfono válido (+34 600 000 000)</div>
            }
          </div>
          }
        </div>
      </div>

      <!-- Dirección -->
      <div formGroupName="direccion" class="col-span-1 md:col-span-2">
        <label class="block text-sm font-medium text-gray-700 mb-1">Dirección</label>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <input formControlName="calle" type="text" required placeholder="Calle"
            class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition" />
          <input formControlName="ciudad" type="text" required placeholder="Ciudad"
            class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition" />
          <input formControlName="codigo_postal" type="text" required placeholder="Código postal"
            class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition" />
          <input formControlName="pais" type="text" required placeholder="País"
            class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition" />
        </div>
        @if (d['calle'].touched && d['calle'].errors) {
        <div class="text-red-500 text-xs mt-1">
          @if (d['calle'].errors['required']) {
          <div>La calle es requerida</div>
          }
        </div>
        }
      </div>

      <!-- Contraseña -->
      <div class="col-span-1">
        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
          </div>
          <input id="password" formControlName="password" type="password" required
            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition"
            placeholder="••••••••" />
          @if (f['password'].touched && f['password'].errors) {
          <div class="text-red-500 text-xs mt-1">
            @if (f['password'].errors['required']) {
            <div>La contraseña es requerida</div>
            }
            @if (f['password'].errors['minlength']) {
            <div>La contraseña debe tener al menos 6 caracteres</div>
            }
          </div>
          }
        </div>
      </div>

      <!-- Confirmar contraseña -->
      <div class="col-span-1">
        <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirmar contraseña</label>
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
          </div>
          <input id="confirmPassword" formControlName="confirmPassword" type="password" required
            class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition"
            placeholder="••••••••" />
          @if ((f['confirmPassword'].touched || submitted) && passwordMismatch) {
          <div class="text-red-500 text-xs mt-1">
            Las contraseñas no coinciden
          </div>
          }
          @if (f['confirmPassword'].touched && f['confirmPassword'].errors?.['required']) {
          <div class="text-red-500 text-xs mt-1">
            Confirma tu contraseña
          </div>
          }
        </div>
      </div>

      <!-- Botón -->
      <div class="col-span-1 md:col-span-2">
        <button type="submit"
          class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-eco-green hover:bg-eco-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-eco-green transition">
          Crear cuenta
        </button>
      </div>
    </form>

    <!-- Footer -->
    <div class="bg-gray-50 px-8 py-4 text-center">
      <p class="text-sm text-gray-600">
        ¿Ya tienes una cuenta?
        <a [routerLink]="'/login'" class="font-medium text-eco-green hover:text-eco-dark transition">
          Inicia sesión
        </a>
      </p>
    </div>
  </div>
</body>